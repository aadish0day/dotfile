##################
# video settings #
##################

# High quality video rendering preset for powerful hardware
profile=high-quality

# Force video to lock on the display's refresh rate for better sync
video-sync=display-resample

# Enable hardware decoding - Uses your AMD GPUs
# Only try VA-API (skip CUDA/Vulkan attempts to avoid warnings)
hwdec=vaapi

# Copy-back mode for better compatibility with 10-bit content
hwdec-extra-frames=8

# Specify which codecs to use hardware decoding for
hwdec-codecs=all

# Use GPU for video output - optimized for AMD
vo=gpu-next

# Use Vulkan API (best for AMD on Linux)
gpu-api=vulkan

# High quality scaling algorithms
scale=ewa_lanczossharp
cscale=ewa_lanczossharp
dscale=mitchell

# Enable motion interpolation for smoother playback on 144Hz display
interpolation=yes
tscale=oversample

# Optimize for your 144Hz display
display-fps-override=144

# Don't allow a new window to have a size larger than 90% of the screen size
autofit-larger=90%x90%

##################
# audio settings #
##################

# Output audio natively (handles your 6ch audio)
audio-channels=auto

##################
# cache settings #
##################

# Use a large seekable RAM cache (you have 14.85 GiB RAM)
cache=yes

# Extra large RAM cache for smooth playback
demuxer-max-bytes=1024M
demuxer-max-back-bytes=256M

# Disable cache pausing
cache-pause=no

##################
# performance settings #
##################

# Decoder threads optimized for Ryzen 7 6800HS (8 cores/16 threads)
vd-lavc-threads=8

# Reduce overhead for seeking
hr-seek-framedrop=yes

# AMD GPU specific optimizations
vd-lavc-dr=yes

# Force software rendering for subtitles to prevent sync issues
blend-subtitles=video

##################
# other settings #
##################

# Display English subtitles if available
slang=en

# Prefer English audio
alang=eng,en

# Screenshot settings
screenshot-format=png
screenshot-png-compression=8
screenshot-directory=~/Pictures/mpv-screenshots

# Suppress irrelevant CUDA and Vulkan warnings
msg-level=ffmpeg=error,ffmpeg/video=error
